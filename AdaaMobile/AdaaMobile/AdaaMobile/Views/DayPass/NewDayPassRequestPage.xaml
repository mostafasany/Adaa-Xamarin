<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
              xmlns:controls="clr-namespace:AdaaMobile.Controls;assembly=AdaaMobile"
                           xmlns:ext="clr-namespace:AdaaMobile.MarkupExtensions;assembly=AdaaMobile"

             xmlns:models="clr-namespace:AdaaMobile.Models;assembly=AdaaMobile"
             xmlns:converters="clr-namespace:AdaaMobile.Converters;assembly=AdaaMobile"
             xmlns:helpers="clr-namespace:AdaaMobile.Helpers;assembly=AdaaMobile"
             x:Class="AdaaMobile.Views.DayPass.NewDayPassRequestPage"
             BackgroundColor="White">
  <ContentPage.BackgroundImage>
    <OnPlatform x:TypeArguments="x:String" WinPhone="home_white.jpg" Android="home_white.jpg" iOS="homewhite"/>
  </ContentPage.BackgroundImage>

  <ContentPage.Resources>
    <ResourceDictionary>
    </ResourceDictionary>
  </ContentPage.Resources>

  <Grid HorizontalOptions="Fill" VerticalOptions="Fill"
        Padding="10,10,10,20"
        >
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Grid
   Grid.Row="0"
   ColumnSpacing="8"  >
      <controls:ExtendedGrid ColumnSpacing="15" 
                       VerticalOptions="Fill" Padding="10,12,10,14"
                       CornerRadius="{StaticResource CornerRadius}" BackgroundColor="#22007c85"
                           >
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>

        </Grid.RowDefinitions>

        <Grid Grid.Row="0" HorizontalOptions="Fill"> 
        <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
                <Label 
                Grid.Column="0"
               TextColor="Black" BackgroundColor="Transparent"
               HorizontalTextAlignment="Start"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
               Text="Departure time" />

               <Image
                                        HeightRequest="15"
                                        WidthRequest="15"
                                        Grid.Column="1"
                                        HorizontalOptions="Start" VerticalOptions="Center">
                      <Image.Source>
                        <OnPlatform x:TypeArguments="ImageSource" iOS="arrow" Android="arrow.png" WinPhone="arrow.png"/>
                      </Image.Source>
                      </Image>
        </Grid>


        <Button
         x:Name="StartTimeBtn"
         Grid.Row="1"
         BackgroundColor="Transparent"
         HorizontalOptions="Start"
         VerticalOptions = "Start"
         TextColor="{StaticResource AppBackgroundNormal}"
         Text="{Binding StartTimeSpanString}"
         >
        </Button>
        <TimePicker
         Grid.Row="1"
         HeightRequest="0"
         WidthRequest="0"
         x:Name="StartTimePicker"
         BackgroundColor="Transparent"
         IsVisible = "false"
         IsEnabled="true"
         Time="{Binding StartTimeSpan}"
                />

        <BoxView
          Grid.Row="2"
          HeightRequest="1"
          BackgroundColor="{StaticResource AppBackgroundNormal}"
          HorizontalOptions="Fill"
              />



        <Grid  Grid.Row="3" HorizontalOptions="Fill"
                    >
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>

          <Label   Grid.Column="0"
                           TextColor="Black" BackgroundColor="Transparent"
                           HorizontalTextAlignment="Start"
                           VerticalTextAlignment="Center"
                           FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
                           Text="Return today" />
          <Switch Grid.Column="1"
            x:Name="ReturnTodaySwitch"
          IsToggled="{Binding ReturnToday}"
          HorizontalOptions="Fill" VerticalOptions="Fill"
                >
          </Switch>
        </Grid>

        <BoxView
      Grid.Row="4"
      HeightRequest="1"
          BackgroundColor="{StaticResource AppBackgroundNormal}"
      HorizontalOptions="Fill"
              />


                <Grid Grid.Row="5" HorizontalOptions="Fill"> 
        <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
                <Label 
                Grid.Column="0"
               TextColor="Black" BackgroundColor="Transparent"
               HorizontalTextAlignment="Start"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
               Text="Expected Return time" />

               <Image
                                        HeightRequest="15"
                                        WidthRequest="15"
                                        Grid.Column="1"
                                        HorizontalOptions="Start" VerticalOptions="Center">
                      <Image.Source>
                        <OnPlatform x:TypeArguments="ImageSource" iOS="arrow" Android="arrow.png" WinPhone="arrow.png"/>
                      </Image.Source>
                      </Image>
        </Grid>

        <Button
         x:Name="EndTimeBtn"
         Grid.Row="6"
         BackgroundColor="Transparent"
         HorizontalOptions="Start"
         VerticalOptions = "Start"
         TextColor="{StaticResource AppBackgroundNormal}"
         Text="{Binding EndTimeSpanString}"
         >
        </Button>

        <TimePicker
         Grid.Row="6"
         x:Name="EndTimePicker"
         BackgroundColor="Transparent"
         HeightRequest="0"
         WidthRequest= "0"
         IsVisible = "false"
         IsEnabled="true"
         Time="{Binding EndTimeSpan}"
                />

        <BoxView
    Grid.Row="7"
    HeightRequest="1"
          BackgroundColor="{StaticResource AppBackgroundNormal}"
    HorizontalOptions="Fill"
              />


      </controls:ExtendedGrid>



    </Grid>

    <Grid
    Grid.Row="2"
    ColumnSpacing="8"  >
      <controls:ExtendedGrid ColumnSpacing="15" 
                       VerticalOptions="Fill" Padding="10,10,10,10"
                       CornerRadius="{StaticResource CornerRadius}" BackgroundColor="#22007c85"
                           >
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>

        </Grid.RowDefinitions>

        <Grid Grid.Row="0" HorizontalOptions="Fill"> 
        <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
                <Label 
                Grid.Column="0"
               TextColor="Black" BackgroundColor="Transparent"
               HorizontalTextAlignment="Start"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
               Text="{ext:Translate ReasonType}"/>

               <Image
                                        HeightRequest="15"
                                        WidthRequest="15"
                                        Grid.Column="1"
                                        HorizontalOptions="Start" VerticalOptions="Center">
                      <Image.Source>
                        <OnPlatform x:TypeArguments="ImageSource" iOS="arrow" Android="arrow.png" WinPhone="arrow.png"/>
                      </Image.Source>
                      </Image>
        </Grid>

        <Picker x:Name="ReasonTypePicker"   BackgroundColor="Transparent"
            Grid.Row="1"  HorizontalOptions="Fill"
             WidthRequest="0" HeightRequest="0" IsVisible= "false"

              >
          <Picker.Items>
            <x:String>Work</x:String>
            <x:String>Personal</x:String>
          </Picker.Items>
        </Picker>

        <Grid Padding="5,0,0,0" Grid.Row="1" HorizontalOptions="Fill"
        VerticalOptions="Fill" >
          <Button
          x:Name="ReasonTypeButton" BackgroundColor="Transparent"
          BorderWidth="0" BorderColor ="Transparent" BorderRadius="0"
            HorizontalOptions="Start"
          VerticalOptions="Fill"
          Text="{Binding ReasonType}"          TextColor="{StaticResource AppBackgroundNormal}" Font="SemiBold"
              >

          </Button>
        </Grid>

        <BoxView
          Grid.Row="2"
          HeightRequest="1"
          BackgroundColor="{StaticResource AppBackgroundNormal}"
          HorizontalOptions="Fill"
              />

        <Label Grid.Row="3"
               TextColor="Gray" BackgroundColor="Transparent"
               HorizontalTextAlignment="Start"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
               Text="Reason" />

        <Editor
          x:Name="ReasonEditor"
          Grid.Row="4"
          HorizontalOptions="Fill"
          VerticalOptions="FillAndExpand"
          BackgroundColor="Transparent"
          TextColor="Black"
          Text="{Binding Reason}"          
          
          >

        </Editor>
              
        <Grid Grid.Row="5" HorizontalOptions="Fill"> 
        <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
                <Label 
                Grid.Column="0"
               TextColor="Black" BackgroundColor="Transparent"
               HorizontalTextAlignment="Start"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"
               Text="{ext:Translate TextLimit}"/>

                <Label 
                  x:Name="TextLimit"
                Grid.Column="1"
               TextColor="Black" BackgroundColor="Transparent"
               HorizontalTextAlignment="End"
               FontSize="{x:Static helpers:FontHelper.MilliFontSize}"/>
        </Grid>
      
      </controls:ExtendedGrid>



    </Grid>

    <ActivityIndicator  IsRunning="{Binding IsBusy}"
                     HeightRequest="50" WidthRequest="50"
                     Grid.Row="0" Grid.RowSpan="3"
                     VerticalOptions="Center" HorizontalOptions="Center"/>

  </Grid>

</ContentPage>